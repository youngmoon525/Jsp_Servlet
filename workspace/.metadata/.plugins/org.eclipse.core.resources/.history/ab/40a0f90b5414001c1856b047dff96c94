<%@ page language="java" contentType="text/html; charset=UTF-8" pageEncoding="UTF-8"%>

<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>BookMain JSP</title>
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script src="jquery/jquery-3.6.0.min.js"></script>
<script>
var isbnCheck = 0;
$(function(){
	$("#isbn").keyup(function(){
		var isbn = document.querySelector("#isbn").value;
		//alert("ISBN : " + isbn);
		var regIsbn = /^\d{3}[\-]\d{2}[\-]\d{4}[\-]\d{3}[\-]\d{1}$/;
		
		if(!regIsbn.test(isbn)){	//ISBN 유효성검사
			var msg = "ISBN 코드형식이 잘못되었습니다!"
			$("#isbnCheck").text(msg);
			$("#isbnCheck").css("color", "red");
			$("#isbn").focus();
		}else{	//ISBN 중복검사
			
		}
	});//keyup()
});	//ready()


</script>
</head>
<body>
<div align="center">
<h3>[도서정보 입력화면]</h3>
<form action="insert.jsp" method="post" onsubmit="return fnSubmit()" onreset="return fnReset()">
	<table border="1">
		<tr>
			<th>도서명</th>
			<td><input type="text" name="title" required="required"/></td>
		</tr>
		<tr>
			<th>저자</th>
			<td><input type="text" name="name" required="required"/></td>
		</tr>
		<tr>
			<th>ISBN</th>
			<td>
				<input type="text" name="isbn" required="required"
					placeholder="xxx-xx-xxxx-xxx-x" id="isbn"/>
				<span id="isbnCheck"></span><!-- ISBN 유효성검사 및 중복여부 -->		
			</td>
		</tr>
		<tr>
			<th>출판사</th>
			<td><input type="text" name="company" required="required"/></td>			
		</tr>
		<tr>
			<th>단가</th>
			<td><input type="number" name="cost" min="0" value="0"/></td>
		</tr>
		<tr>
			<th>수량</th>
			<td><input type="number" name="qty" min="0" value="0"/></td>
		</tr>
		<tr>
			<td colspan="2" align="center">
				<input type="submit" value="도서정보입력"/>
				<input type="reset" value="입력정보취소"/>
				<input type="button" value="전체도서보기" onclick="location.href='getAllList.jsp'"/>
			</td>
		</tr>
	</table>
</form>
</div>
</body>
</html>